<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Obtain a (bootstrapped) confidence interval for the mean of a numeric vector. — mean_ci • elucidate</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Obtain a (bootstrapped) confidence interval for the mean of a numeric vector. — mean_ci" />
<meta property="og:description" content="mean_ci returns confidence intervals for the mean of a numeric
vector. One might want to use bootstrapping to obtain robust estimates for
a confidence interval of the mean if the sample size is small (e.g. n = 10)
or calculate them from a theoretical normal distribution otherwise. Note
that the usual calculation based on quantiles of the theoretical
distribution can be obtained with this function using the default ci_type =
&quot;norm&quot;. This function provides a simplified user interface to the
boot and boot.ci functions
similarly to the one.boot function but retains
more of the boot package's functionality, most notably including options
for parallelization. For convenience, when operating in parallel the user's
operating system is automatically detected so that the appropriate
parallelization engine is used (e.g. snow for Windows, multicore otherwise)
by the parallel package. Since the mean and median are common descriptive
statistics for which confidence intervals are estimated, these have their
own dedicated functions. To obtain bootstrapped confidence intervals for
other summary statistics use codestat_ci instead." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">elucidate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/elucidate.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bcgov/elucidate/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtain a (bootstrapped) confidence interval for the mean of a numeric vector.</h1>
    <small class="dont-index">Source: <a href='https://github.com/bcgov/elucidate/blob/master/R/boot_ci.R'><code>R/boot_ci.R</code></a></small>
    <div class="hidden name"><code>mean_ci.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>mean_ci returns confidence intervals for the mean of a numeric
vector. One might want to use bootstrapping to obtain robust estimates for
a confidence interval of the mean if the sample size is small (e.g. n = 10)
or calculate them from a theoretical normal distribution otherwise. Note
that the usual calculation based on quantiles of the theoretical
distribution can be obtained with this function using the default ci_type =
"norm". This function provides a simplified user interface to the
<code><a href='https://rdrr.io/pkg/boot/man/boot.html'>boot</a></code> and <code><a href='https://rdrr.io/pkg/boot/man/boot.ci.html'>boot.ci</a></code> functions
similarly to the <code>one.boot</code> function but retains
more of the boot package's functionality, most notably including options
for parallelization. For convenience, when operating in parallel the user's
operating system is automatically detected so that the appropriate
parallelization engine is used (e.g. snow for Windows, multicore otherwise)
by the parallel package. Since the mean and median are common descriptive
statistics for which confidence intervals are estimated, these have their
own dedicated functions. To obtain bootstrapped confidence intervals for
other summary statistics use code<a href='stat_ci.html'>stat_ci</a> instead.</p>
    </div>

    <pre class="usage"><span class='fu'>mean_ci</span><span class='op'>(</span>
  <span class='va'>y</span>,
  replicates <span class='op'>=</span> <span class='fl'>2000</span>,
  ci_level <span class='op'>=</span> <span class='fl'>0.95</span>,
  ci_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"norm"</span>, <span class='st'>"perc"</span>, <span class='st'>"bca"</span>, <span class='st'>"basic"</span><span class='op'>)</span>,
  parallel <span class='op'>=</span> <span class='cn'>FALSE</span>,
  cores <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>y</th>
      <td><p>A vector/variable (required).</p></td>
    </tr>
    <tr>
      <th>replicates</th>
      <td><p>The number of bootstrap replicates to use. Default is
2,000, as recommended by Efron &amp; Tibshirani (1993). For publications, or if
you need more precise estimates, more replications (e.g. &gt;= 5,000) are
recommended. N.B. more replications will of course take longer to run. If
you get the error: "estimated adjustment 'a' is NA" when ci_type is set to
"bca" then try again with more replications.</p></td>
    </tr>
    <tr>
      <th>ci_level</th>
      <td><p>The confidence level to use for constructing confidence intervals.
Default is set to <code>ci_level = 0.95</code> for 95 percent CIs.</p></td>
    </tr>
    <tr>
      <th>ci_type</th>
      <td><p>The type of confidence intervals to calculate from the
bootstrap samples. Most of the options available in the underlying boot.ci
function are implemented (except for studentized intervals): "norm" for
calculation based on a theoretical normal distribution, "perc" for
percentile, "basic" for basic, and "bca" for bias-corrected and
accelerated. See <code><a href='https://rdrr.io/pkg/boot/man/boot.ci.html'>boot.ci</a></code> for details regarding options
other than "norm". Since the normal confidence intervals for the mean can
be directly calculation based quantiles from the theoretical gaussian
distribution this method is used for this unique case (CIs for the mean)
instead of bootstrapping when the ci_type is set to "norm" (the default),
since it is MUCH faster.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>set to TRUE if you want to use multiple cores or FALSE if you
don't (the default). Note that there is some processing overhead involved
when operating in parallel so speed gains may not be very noticeable for
smaller samples (and may even take longer than sequential processing). Due
to the nature of the underlying parallelization architecture, performance
gains will likely be greater on non-Windows machines that can use the
"multicore" implementation instead of "snow". For obvious reasons this
option only works on machines with more than 1 logical processing core.</p></td>
    </tr>
    <tr>
      <th>cores</th>
      <td><p>If parallel is set to TRUE, this determines the number of cores
to use. To see how many cores are available on your machine, use
parallel::detectCores()</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>should missing values be removed before attempting to calculate
the mean and confidence intervals? Default is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Efron, B., &amp; Tibshirani, R. J. (1993). An introduction to the bootstrap. New
York: Chapman &amp; Hall.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/boot/man/boot.html'>boot</a></code>, <code><a href='https://rdrr.io/pkg/boot/man/boot.ci.html'>boot.ci</a></code>,
<code><a href='median_ci.html'>median_ci</a></code>, <code><a href='stat_ci.html'>stat_ci</a></code>, <code><a href='describe_ci.html'>describe_ci</a></code>,
<code><a href='describe_ci_all.html'>describe_ci_all</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Craig P. Hutton, <a href='mailto:craig.hutton@gov.bc.ca'>craig.hutton@gov.bc.ca</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='va'>y1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10000</span>, <span class='fl'>100</span>, <span class='fl'>10</span><span class='op'>)</span>

<span class='co'>#using a single core (sequential processing)</span>
<span class='fu'>mean_ci</span><span class='op'>(</span><span class='va'>y1</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      mean     lower     upper 
#&gt;  99.97819  99.78280 100.17358 </div><div class='input'>
<span class='fu'>mean_ci</span><span class='op'>(</span><span class='va'>y1</span>, ci_type <span class='op'>=</span> <span class='st'>"perc"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      mean     lower     upper 
#&gt;  99.97819  99.77709 100.17514 </div><div class='input'>
<span class='co'>#using multiple cores (parallel processing)</span>
<span class='fu'>mean_ci</span><span class='op'>(</span><span class='va'>y1</span>, parallel <span class='op'>=</span> <span class='cn'>TRUE</span>, cores <span class='op'>=</span> <span class='fl'>2</span>, ci_type <span class='op'>=</span> <span class='st'>"perc"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      mean     lower     upper 
#&gt;  99.97819  99.77177 100.16004 </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Craig P. Hutton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


