<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Obtain a bootstrapped confidence interval for the median of a numeric vector. — median_ci • elucidate</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Obtain a bootstrapped confidence interval for the median of a numeric vector. — median_ci"><meta property="og:description" content="median_ci returns bootstrapped confidence intervals for the
median of a numeric vector. This function provides a simplified user
interface to the boot and boot.ci
functions similarly to the one.boot function but
retains more of the boot package's functionality, most notably including
options for parallelization. For convenience, when operating in parallel
the user's operating system is automatically detected so that the
appropriate parallelization engine is used (e.g. snow for Windows,
multicore otherwise) by the parallel package. Since the mean and median are
common descriptive statistics for which confidence intervals are estimated,
these have their own dedicated functions. To obtain bootstrapped confidence
intervals for other summary statistics use codestat_ci instead."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">elucidate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/elucidate.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bcgov/elucidate/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtain a bootstrapped confidence interval for the median of a numeric vector.</h1>
    <small class="dont-index">Source: <a href="https://github.com/bcgov/elucidate/blob/HEAD/R/boot_ci.R" class="external-link"><code>R/boot_ci.R</code></a></small>
    <div class="hidden name"><code>median_ci.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>median_ci returns bootstrapped confidence intervals for the
median of a numeric vector. This function provides a simplified user
interface to the <code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot</a></code> and <code><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></code>
functions similarly to the <code>one.boot</code> function but
retains more of the boot package's functionality, most notably including
options for parallelization. For convenience, when operating in parallel
the user's operating system is automatically detected so that the
appropriate parallelization engine is used (e.g. snow for Windows,
multicore otherwise) by the parallel package. Since the mean and median are
common descriptive statistics for which confidence intervals are estimated,
these have their own dedicated functions. To obtain bootstrapped confidence
intervals for other summary statistics use code<a href="stat_ci.html">stat_ci</a> instead.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">median_ci</span><span class="op">(</span>
  <span class="va">y</span>,
  replicates <span class="op">=</span> <span class="fl">2000</span>,
  ci_level <span class="op">=</span> <span class="fl">0.95</span>,
  ci_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bca"</span>, <span class="st">"perc"</span>, <span class="st">"basic"</span>, <span class="st">"norm"</span><span class="op">)</span>,
  parallel <span class="op">=</span> <span class="cn">FALSE</span>,
  cores <span class="op">=</span> <span class="cn">NULL</span>,
  na.rm <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>y</dt>
<dd><p>A vector/variable (required).</p></dd>
<dt>replicates</dt>
<dd><p>The number of bootstrap replicates to use. Default is
2,000, as recommended by Efron &amp; Tibshirani (1993). For publications, or if
you need more precise estimates, more replications (e.g. &gt;= 5,000) are
recommended. N.B. more replications will of course take longer to run. If
you get the error: "estimated adjustment 'a' is NA" when ci_type is set to
"bca" then try again with more replications.</p></dd>
<dt>ci_level</dt>
<dd><p>The confidence level to use for constructing confidence intervals.
Default is set to <code>ci_level = 0.95</code> for 95 percent CIs.</p></dd>
<dt>ci_type</dt>
<dd><p>The type of confidence intervals to calculate from the
bootstrap samples. Most of the options available in the underlying boot.ci
function are implemented (except for studentized intervals): "norm" for an
approximation based on the normal distribution, "perc" for percentile,
"basic" for basic, and "bca" for bias-corrected and accelerated. BCa
intervals are the default since these tend to provide the most
accurate/least-biased results (Efron, 1987), however they require more time
to calculate and may not be much better than the other methods for large
sample sizes (e.g. &gt;= 100,000 rows of data). See
<code><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></code> for details.</p></dd>
<dt>parallel</dt>
<dd><p>set to TRUE if you want to use multiple cores or FALSE if you
don't (the default). Note that there is some processing overhead involved
when operating in parallel so speed gains may not be very noticeable for
smaller samples (and may even take longer than sequential processing). Due
to the nature of the underlying parallelization architecture, performance
gains will likely be greater on non-Windows machines that can use the
"multicore" implementation instead of "snow". For obvious reasons this
option only works on machines with more than 1 logical processing core.</p></dd>
<dt>cores</dt>
<dd><p>If parallel is set to TRUE, this determines the number of cores
to use. To see how many cores are available on your machine, use
parallel::detectCores()</p></dd>
<dt>na.rm</dt>
<dd><p>should missing values be removed before attempting to calculate
the median and confidence intervals? Default is TRUE.</p></dd>
</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Efron, B. (1987). Better bootstrap confidence intervals. Journal of the
American statistical Association, 82(397), 171-185.</p>
<p>Efron, B., &amp; Tibshirani, R. J. (1993). An introduction to the bootstrap. New
York: Chapman &amp; Hall.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/boot/man/boot.html" class="external-link">boot</a></code>, <code><a href="https://rdrr.io/pkg/boot/man/boot.ci.html" class="external-link">boot.ci</a></code>,
<code><a href="mean_ci.html">mean_ci</a></code>, <code><a href="stat_ci.html">stat_ci</a></code>, <code><a href="describe_ci.html">describe_ci</a></code>,
<code><a href="describe_ci_all.html">describe_ci_all</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Craig P. Hutton, <a href="mailto:craig.hutton@gov.bc.ca">craig.hutton@gov.bc.ca</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="va">y1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10000</span>, <span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#using a single core (sequential processing)</span></span>
<span class="r-in"><span class="fu">median_ci</span><span class="op">(</span><span class="va">y1</span>, ci_type <span class="op">=</span> <span class="st">"perc"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    median     lower     upper </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  99.98878  99.75681 100.22507 </span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co">#using multiple cores (parallel processing)</span></span>
<span class="r-in"><span class="fu">median_ci</span><span class="op">(</span><span class="va">y1</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span>, cores <span class="op">=</span> <span class="fl">2</span>, ci_type <span class="op">=</span> <span class="st">"perc"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Craig P. Hutton.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

