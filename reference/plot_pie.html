<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate a pie chart. — plot_pie • elucidate</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate a pie chart. — plot_pie" />
<meta property="og:description" content="Easily generate pie charts, AKA bar charts with polar
coordinates, using ggplot2 with a simplified customization interface for
common modifications. Pie charts are rarely the most effective way of
visualizing data (especially when &amp;gt;5 groups are being compared), but that
doesn't mean there shouldn't be an easy way to build one with ggplot2 in
case your project stakeholders ask. See
this
blog post for an introduction to ggplot2." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">elucidate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/elucidate.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bcgov/elucidate/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a pie chart.</h1>
    <small class="dont-index">Source: <a href='https://github.com/bcgov/elucidate/blob/master/R/plot.R'><code>R/plot.R</code></a></small>
    <div class="hidden name"><code>plot_pie.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Easily generate pie charts, AKA bar charts with polar
coordinates, using ggplot2 with a simplified customization interface for
common modifications. Pie charts are rarely the most effective way of
visualizing data (especially when &gt;5 groups are being compared), but that
doesn't mean there shouldn't be an easy way to build one with ggplot2 in
case your project stakeholders ask. See
<a href='https://craig.rbind.io/post/2021-05-17-asgr-3-1-data-visualization/'>this
blog post</a> for an introduction to ggplot2.</p>
    </div>

    <pre class="usage"><span class='fu'>plot_pie</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>fill_var</span>,
  y <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>,
  title <span class='op'>=</span> <span class='cn'>NULL</span>,
  title_hjust <span class='op'>=</span> <span class='fl'>0.5</span>,
  caption <span class='op'>=</span> <span class='cn'>NULL</span>,
  caption_hjust <span class='op'>=</span> <span class='fl'>0</span>,
  fill_var_order_by_y <span class='op'>=</span> <span class='cn'>NULL</span>,
  fill_var_order <span class='op'>=</span> <span class='cn'>NULL</span>,
  fill_var_labs <span class='op'>=</span> <span class='cn'>NULL</span>,
  fill_var_values <span class='op'>=</span> <span class='cn'>NULL</span>,
  palette <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"plasma"</span>, <span class='st'>"C"</span>, <span class='st'>"magma"</span>, <span class='st'>"A"</span>, <span class='st'>"inferno"</span>, <span class='st'>"B"</span>, <span class='st'>"viridis"</span>, <span class='st'>"D"</span>, <span class='st'>"cividis"</span>,
    <span class='st'>"E"</span><span class='op'>)</span>,
  palette_direction <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"d2l"</span>, <span class='st'>"l2d"</span><span class='op'>)</span>,
  palette_begin <span class='op'>=</span> <span class='fl'>0</span>,
  palette_end <span class='op'>=</span> <span class='fl'>1</span>,
  fill_var_title <span class='op'>=</span> <span class='cn'>NULL</span>,
  slice_text <span class='op'>=</span> <span class='cn'>NULL</span>,
  slice_text_prefix <span class='op'>=</span> <span class='st'>""</span>,
  slice_text_suffix <span class='op'>=</span> <span class='st'>""</span>,
  slice_text_colour <span class='op'>=</span> <span class='st'>"black"</span>,
  slice_text_size <span class='op'>=</span> <span class='fl'>4</span>,
  slice_text_custom <span class='op'>=</span> <span class='cn'>NULL</span>,
  line_size <span class='op'>=</span> <span class='fl'>1</span>,
  round_n <span class='op'>=</span> <span class='cn'>NULL</span>,
  lump_n <span class='op'>=</span> <span class='cn'>NULL</span>,
  lump_lab <span class='op'>=</span> <span class='cn'>NULL</span>,
  facet_var <span class='op'>=</span> <span class='cn'>NULL</span>,
  facet_var_order <span class='op'>=</span> <span class='cn'>NULL</span>,
  facet_var_labs <span class='op'>=</span> <span class='cn'>NULL</span>,
  facet_var_strip_position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"top"</span>, <span class='st'>"bottom"</span><span class='op'>)</span>,
  facet_var_text_bold <span class='op'>=</span> <span class='cn'>TRUE</span>,
  greyscale <span class='op'>=</span> <span class='cn'>FALSE</span>,
  text_size <span class='op'>=</span> <span class='fl'>14</span>,
  font <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sans"</span>, <span class='st'>"serif"</span>, <span class='st'>"mono"</span><span class='op'>)</span>,
  legend_position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"right"</span>, <span class='st'>"left"</span>, <span class='st'>"bottom"</span>, <span class='st'>"top"</span><span class='op'>)</span>,
  omit_legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
  aesthetic_options <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame or tibble containing at least one categorical
variable.</p></td>
    </tr>
    <tr>
      <th>fill_var</th>
      <td><p>A categorical variable to assign to the slice fill colour
(quoted or unquoted), e.g. fill_var = "grouping_variable" or fill_var =
grouping_variable. Produces separate slices each level of the fill
variable. See <code><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>A numeric variable containing values to be used for calculating pie
slice sizes. If y is not specified, then pie slice sizes will be based on
the relative frequency of fill_var categories. If y is specified, then the
slices will represent fractions of the sum of the y-variable under each
category of fill_var.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>graphical parameters (not associated with variables) to be passed
to <code><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></code>, e.g. colour (affects slice outlines),
to be applied to all slices. To see some of the available options in a web
browser, set the aesthetic_options argument to TRUE.</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>Add a main title to the plot using a character string, e.g.
"pie chart title"</p></td>
    </tr>
    <tr>
      <th>title_hjust</th>
      <td><p>Left-to-right/horizontal justification (alignment) of
the main plot title. Accepts values from 0 (far left) to 1 (far right).
Default is 0.5 (centre).</p></td>
    </tr>
    <tr>
      <th>caption</th>
      <td><p>Add a figure caption to the bottom of the plot using a character string.</p></td>
    </tr>
    <tr>
      <th>caption_hjust</th>
      <td><p>Left-to-right/horizontal justification (alignment) of the
caption. Accepts values from 0 (far left) to 1 (far right). Default is 0
(left).</p></td>
    </tr>
    <tr>
      <th>fill_var_order_by_y</th>
      <td><p>This allows you to sort the slices of the chart in
order of increasing/ascending ("i" or "a") or decreasing ("d") value of y.
If no variable is assigned to y, then the sorting occurs based on the
frequencies of the fill_var categories.</p></td>
    </tr>
    <tr>
      <th>fill_var_order</th>
      <td><p>This allows you to manually modify the order of the
fill variable groups, e.g. fill_var = grouping_variable, fill_var_order =
c("group_2", "group_1"). See <code><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></code> for
details.</p></td>
    </tr>
    <tr>
      <th>fill_var_labs</th>
      <td><p>This allows you to modify the labels of the fill
variable groups, e.g. fill_var = grouping_variable, fill_var_labs =
c("group_1_new_label" = "group_1_old_label", "group_2_new_label" =
"group_2_old_label"). See <code><a href='https://forcats.tidyverse.org/reference/fct_recode.html'>fct_recode</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>fill_var_values</th>
      <td><p>This allows you to modify the colours assigned to the
fill of each of the fill variable groups, e.g. fill_var =
grouping_variable, fill_var_values = c("blue", "red"). See
<code><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></code> for details. For the colour
options available in base R, see <code><a href='colour_options.html'>colour_options</a></code>.</p></td>
    </tr>
    <tr>
      <th>palette</th>
      <td><p>If a variable is assigned to fill_var, this determines which
<a href='https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html'>viridis
colour palette</a> to use. Options include "plasma" or "C" (default), "magma"
or "A", "inferno" or "B", "viridis" or "D", and "cividis" or "E". See
<a href='https://craig.rbind.io/post/2021-05-17-asgr-3-1-data-visualization/#colourblind-friendly-palettes'>this
link</a> for examples. You can override these colour palettes with
fill_var_values.</p></td>
    </tr>
    <tr>
      <th>palette_direction</th>
      <td><p>Choose "d2l" for dark to light (default) or "l2d"
for light to dark.</p></td>
    </tr>
    <tr>
      <th>palette_begin</th>
      <td><p>Value between 0 and 1 that determines where along the
full range of the chosen colour palette's spectrum to begin sampling
colours. See <code><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_d</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>palette_end</th>
      <td><p>Value between 0 and 1 that determines where along the full
range of the chosen colour palette's spectrum to end sampling colours. See
<code><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_d</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>fill_var_title</th>
      <td><p>this allows you to modify the fill variable label in
the plot legend.</p></td>
    </tr>
    <tr>
      <th>slice_text</th>
      <td><p>Adds text with slice percentages ("pct"), total
counts/values ("tot"), or fill_var group labels ("grp") to the middle of
each slice.</p></td>
    </tr>
    <tr>
      <th>slice_text_prefix</th>
      <td><p>Adds a prefix string to slice_text labels separated by a
single space, e.g. if your slices represent monetary totals (via a
y-variable), then you might set this to "$"</p></td>
    </tr>
    <tr>
      <th>slice_text_suffix</th>
      <td><p>Adds a suffix string to slice_text labels separated by a
single space, e.g. if your slices represent percentages (e.g. slice_text =
"pct"), then you may want to set this to "%"</p></td>
    </tr>
    <tr>
      <th>slice_text_colour</th>
      <td><p>Controls slice text font colour. For the colour
options available in base R, see <code><a href='colour_options.html'>colour_options</a></code>.</p></td>
    </tr>
    <tr>
      <th>slice_text_size</th>
      <td><p>Controls the slice text font size.</p></td>
    </tr>
    <tr>
      <th>slice_text_custom</th>
      <td><p>Use this to specify custom slice text labels instead
of using one of the convenience options provided by the slice_text
argument. Must be a character vector of length equal to the number of
slices (fill_var categories).</p></td>
    </tr>
    <tr>
      <th>line_size</th>
      <td><p>Controls the slice outline thickness if a colour is
specified (e.g. colour = "black").</p></td>
    </tr>
    <tr>
      <th>round_n</th>
      <td><p>If slice_text = "pct" or "tot" this allows you to round the
values to n significant digits. See the <code><a href='https://rdrr.io/r/base/Round.html'>round</a></code> "n" argument
documentation for details.</p></td>
    </tr>
    <tr>
      <th>lump_n</th>
      <td><p>If there are so many fill_var categories that you find the plot
difficult to interpret, you can use this to lump/combine the least common
categories together into an "other" category. Simply specify the number of
categories you want to retain and the rest will be lumped together. See
<code><a href='https://forcats.tidyverse.org/reference/fct_lump.html'>fct_lump_n</a></code> for details. If "y" is specified, then
the relative proportions of the fill_var group totals for the y variable
will be used to determine which are the top n categories to retain (i.e.
largest slices).</p></td>
    </tr>
    <tr>
      <th>lump_lab</th>
      <td><p>If lump_n is used, this allows you to change the label of the
"other" category.</p></td>
    </tr>
    <tr>
      <th>facet_var</th>
      <td><p>Use if you want separate pie charts for each level of a
grouping variable (i.e. a faceted plot), e.g. facet_var =
"grouping_variable" or facet_var = grouping_variable. See
<code><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>facet_var_order</th>
      <td><p>If a variable has been assigned for faceting using
facet_var, this allows you to modify the order of the variable groups, e.g.
facet_var = grouping_variable, facet_var_order = c("group_2", "group_1").
See <code><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>facet_var_labs</th>
      <td><p>If a variable has been assigned for faceting using
facet_var, this allows you to modify the labels of the variable groups
which will appear in the facet strips, e.g. facet_var = grouping_variable,
facet_var_labs = c("group_1_new_label" = "group_1_old_label",
"group_2_new_label" = "group_2_old_label"). See
<code><a href='https://forcats.tidyverse.org/reference/fct_recode.html'>fct_recode</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>facet_var_strip_position</th>
      <td><p>If a variable has been assigned for faceting
using facet_var, this allows you to modify the position of the facet strip
labels. Sensible options include "top" (the default) or "bottom".</p></td>
    </tr>
    <tr>
      <th>facet_var_text_bold</th>
      <td><p>If a variable has been assigned for faceting
using facet_var, this allows you to use boldface (TRUE/default or FALSE)
for the facet strip label text.</p></td>
    </tr>
    <tr>
      <th>greyscale</th>
      <td><p>Set to TRUE if you want the plot converted to greyscale.</p></td>
    </tr>
    <tr>
      <th>text_size</th>
      <td><p>This controls the size of all plot text. Default = 14.</p></td>
    </tr>
    <tr>
      <th>font</th>
      <td><p>This controls the font of all plot text. Default = "sans"
(Arial). Other options include "serif" (Times New Roman) and "mono"
(Courier New).</p></td>
    </tr>
    <tr>
      <th>legend_position</th>
      <td><p>This allows you to modify the legend position.
Options include "right" (the default), "left", "top", &amp; "bottom".</p></td>
    </tr>
    <tr>
      <th>omit_legend</th>
      <td><p>Set to TRUE if you want to remove/omit the legends.</p></td>
    </tr>
    <tr>
      <th>aesthetic_options</th>
      <td><p>If set to TRUE, opens a web browser to the tidyverse
online aesthetic options vignette.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot pie chart.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Wickham, H. (2016). ggplot2: elegant graphics for data analysis. New York, N.Y.: Springer-Verlag.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></code>, <code><a href='https://rdrr.io/pkg/plotly/man/ggplotly.html'>ggplotly</a></code>,
<code><a href='plot_stat_error.html'>plot_stat_error</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Craig P. Hutton, <a href='mailto:Craig.Hutton@gov.bc.ca'>Craig.Hutton@gov.bc.ca</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>plot_pie</span><span class='op'>(</span><span class='va'>mtcars</span>,
         fill_var <span class='op'>=</span> <span class='va'>cyl</span>,
         slice_text <span class='op'>=</span> <span class='st'>"pct"</span>,
         slice_text_suffix <span class='op'>=</span> <span class='st'>"%"</span>,
         colour <span class='op'>=</span> <span class='st'>"white"</span>,
         round_n <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='img'><img src='plot_pie-1.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Craig P. Hutton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


